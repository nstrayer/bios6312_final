data <- read.csv("/Users/Nick/Dropbox/vandy/regression/bios6312_final/data/ivfedata-2013_full.csv")
View(data)
hist(data$avgexp)
summary(data$avgexp)
plot(data)
plot(data[c(1,2,3,6,7,9,10)])
plot(data[,sapply(data, is.numeric)])
head(data$bsi.inf)
test = ifelse(data$bsi.inf == "N", 0, 1)
head(test)
head(data[, c("bsi.inf",  "eent.inf",	"gi.inf",	"lri.inf",	"pneu.inf"	,"ssi.inf"	,"sst.inf"	,"sys.inf",	"uti.inf")])
ifelse(data[, c("bsi.inf",  "eent.inf",	"gi.inf",	"lri.inf",	"pneu.inf"	,"ssi.inf"	,"sst.inf"	,"sys.inf",	"uti.inf")]  == "N", 0, 1)
data[, c("bsi.inf",  "eent.inf",  "gi.inf",	"lri.inf",	"pneu.inf"	,"ssi.inf"	,"sst.inf"	,"sys.inf",	"uti.inf")] = ifelse(data[, c("bsi.inf",  "eent.inf",	"gi.inf",	"lri.inf",	"pneu.inf"	,"ssi.inf"	,"sst.inf"	,"sys.inf",	"uti.inf")]  == "N", 0, 1)
View(data)
View(data)
data <- read.csv("/Users/Nick/Dropbox/vandy/regression/bios6312_final/data/ivfedata-2013_full.csv")
y_n_cols <- c("hosp.death","unit.death", "bsi.inf","eent.inf","gi.inf","lri.inf","pneu.inf","ssi.inf","sst.inf","sys.inf","uti.inf")
data[, y_n_cols] = ifelse(data[, y_n_cols] == "N", 0, 1)
View(data)
plot(data[,sapply(data, is.numeric)])
plot(data[,sapply(data, is.numeric)])
plot(data[,sapply(data, is.numeric)])
write.csv(data, "/Users/Nick/Dropbox/vandy/regression/bios6312_final/data/nick_cleaned.csv")
source('~/.active-rstudio-document', echo=TRUE)
quartiles(data$avgexp)
quantile(data$avgexp)
quantile(data$avgexp[data$avgexp != 0])
hist(data$avgexp[data$avgexp != 0])
hist(log(data$avgexp[data$avgexp != 0]))
hist(data$avgexp[data$avgexp != 0])
Variables <- data.frame(avgexp = "Average amount of IVFE received by the patient (g/kg of body weight per day) during the first 3 days of their SICU stay",
maxexp = "Maximum daily IVFE received by the patient (g/kg of body weight per day) during the first 3 days of their SICU stay",
age = "Age in years",
gender = "Gender")
Variables
t(Variables)
View(Variables)
test= t(Variables)
View(Variables)
View(test)
Variables <- data.frame(avgexp = "Average amount of IVFE received by the patient (g/kg of body weight per day) during the first 3 days of their SICU stay",
maxexp = "Maximum daily IVFE received by the patient (g/kg of body weight per day) during the first 3 days of their SICU stay",
age = "Age in years",
gender = "Gender",
race = "Race",
bmi = "Body mass index (weight divided by height squared)",
apache2 = "Apache 2 score at admission; a disease severity score",
glucose = "Blood glucose level at admission",
hosp.los = "Hospital length of stay",
hosp.death = "Indicator of death in the hospital (1=died, 0=survive)",
unit.los = "Length of stay in the surgical ICU",
unit.death = "Indicator of death in the surgical ICU (1=died, 0=survived)",
ventdays.hosp = "Days spent on ventilator while in hospital",
ventdays.unit = "Days spent on ventilator while in surgical ICU",
ventfree.unit = "Days not on the ventilator while in the surgical ICU",
bsi.inf = "Bloodstream infection (1=infection, 0=no infection)",
eent.inf = "Eye, ear, nose, throat infection (1=infection, 0=no infection)",
gi.inf = "GI infection (1=infection, 0=no infection)",
lri.inf = "Lower respiratory infection (1=infection, 0=no infection)",
pneu.inf = "Pneumonia",
ssi.inf = "Surgical site infection",
sst.inf = "Skin structure infection",
sys.inf = "Systemic infection",
uti.inf = "Urinary tract infection")
Variables = t(Variables)
library(kable)
library(knitr)
data <- read.csv("/Users/Nick/Dropbox/vandy/regression/bios6312_final/data/ivfedata-2013_full.csv")
View(data)
is.na(data$avgexp)
sum(is.na(data$avgexp))
sapply(data, function(c){sum(is.na(d))})
sapply(data, function(c){sum(is.na(c))})
table(data$gender)
table(data$race)
data <- read.csv("/Users/Nick/Dropbox/vandy/regression/bios6312_final/data/ivfedata-2013_full.csv")
# sapply(data, function(c){sum(is.na(c))})
Variables <- data.frame(avgexp = "Average amount of soybean oil IVFE received by the patient during the first 3 days of their SICU stay",
maxexp = "Maximum daily IVFE received by the patient during the first 3 days of their SICU stay",
age = "Age in years",
gender = "Gender",
race = "Race",
bmi = "Body mass index (weight divided by height squared)",
apache2 = "Apache 2 score at admission; a disease severity score",
glucose = "Blood glucose level at admission",
hosp.los = "Hospital length of stay",
hosp.death = "Indicator of death in the hospital",
unit.los = "Length of stay in the surgical ICU",
unit.death = "Indicator of death in the surgical ICU",
ventdays.hosp = "Days spent on ventilator while in hospital",
ventdays.unit = "Days spent on ventilator while in surgical ICU",
ventfree.unit = "Days not on the ventilator while in the surgical ICU",
bsi.inf = "Bloodstream infection",
eent.inf = "Eye, ear, nose, throat infection",
gi.inf = "GI infection",
lri.inf = "Lower respiratory infection",
pneu.inf = "Pneumonia",
ssi.inf = "Surgical site infection",
sst.inf = "Skin structure infection",
sys.inf = "Systemic infection",
uti.inf = "Urinary tract infection")
Variables = t(Variables)
names(Variables) = c("Variable", "Description")
kable(Variables)
Variables
Variables <- data.frame(avgexp = "Average amount of soybean oil IVFE received by the patient during the first 3 days of their SICU stay",
maxexp = "Maximum daily IVFE received by the patient during the first 3 days of their SICU stay",
age = "Age in years",
gender = "Gender",
race = "Race",
bmi = "Body mass index (weight divided by height squared)",
apache2 = "Apache 2 score at admission; a disease severity score",
glucose = "Blood glucose level at admission",
hosp.los = "Hospital length of stay",
hosp.death = "Indicator of death in the hospital",
unit.los = "Length of stay in the surgical ICU",
unit.death = "Indicator of death in the surgical ICU",
ventdays.hosp = "Days spent on ventilator while in hospital",
ventdays.unit = "Days spent on ventilator while in surgical ICU",
ventfree.unit = "Days not on the ventilator while in the surgical ICU",
bsi.inf = "Bloodstream infection",
eent.inf = "Eye, ear, nose, throat infection",
gi.inf = "GI infection",
lri.inf = "Lower respiratory infection",
pneu.inf = "Pneumonia",
ssi.inf = "Surgical site infection",
sst.inf = "Skin structure infection",
sys.inf = "Systemic infection",
uti.inf = "Urinary tract infection")
Variables = t(Variables)
View(Variables)
data <- read.csv("/Users/Nick/Dropbox/vandy/regression/bios6312_final/data/ivfedata-2013_full.csv")
# sapply(data, function(c){sum(is.na(c))})
Variables <- data.frame(avgexp = "Average amount of soybean oil IVFE received by the patient during the first 3 days of their SICU stay",
maxexp = "Maximum daily IVFE received by the patient during the first 3 days of their SICU stay",
age = "Age in years",
gender = "Gender",
race = "Race",
bmi = "Body mass index (weight divided by height squared)",
apache2 = "Apache 2 score at admission; a disease severity score",
glucose = "Blood glucose level at admission",
hosp.los = "Hospital length of stay",
hosp.death = "Indicator of death in the hospital",
unit.los = "Length of stay in the surgical ICU",
unit.death = "Indicator of death in the surgical ICU",
ventdays.hosp = "Days spent on ventilator while in hospital",
ventdays.unit = "Days spent on ventilator while in surgical ICU",
ventfree.unit = "Days not on the ventilator while in the surgical ICU",
bsi.inf = "Bloodstream infection",
eent.inf = "Eye, ear, nose, throat infection",
gi.inf = "GI infection",
lri.inf = "Lower respiratory infection",
pneu.inf = "Pneumonia",
ssi.inf = "Surgical site infection",
sst.inf = "Skin structure infection",
sys.inf = "Systemic infection",
uti.inf = "Urinary tract infection")
rownames(Variables) = c("Variable", "Description")
Variables
View(Variables)
Variables = t(Variables)
View(Variables)
names(Variables)
colnames(Variables)
colnames(Variables) = c("Variable", "Description")
View(Variables)
rownames(Variables)
Variables <- data.frame(avgexp = "Average amount of soybean oil IVFE received by the patient during the first 3 days of their SICU stay",
maxexp = "Maximum daily IVFE received by the patient during the first 3 days of their SICU stay",
age = "Age in years",
gender = "Gender",
race = "Race",
bmi = "Body mass index (weight divided by height squared)",
apache2 = "Apache 2 score at admission; a disease severity score",
glucose = "Blood glucose level at admission",
hosp.los = "Hospital length of stay",
hosp.death = "Indicator of death in the hospital",
unit.los = "Length of stay in the surgical ICU",
unit.death = "Indicator of death in the surgical ICU",
ventdays.hosp = "Days spent on ventilator while in hospital",
ventdays.unit = "Days spent on ventilator while in surgical ICU",
ventfree.unit = "Days not on the ventilator while in the surgical ICU",
bsi.inf = "Bloodstream infection",
eent.inf = "Eye, ear, nose, throat infection",
gi.inf = "GI infection",
lri.inf = "Lower respiratory infection",
pneu.inf = "Pneumonia",
ssi.inf = "Surgical site infection",
sst.inf = "Skin structure infection",
sys.inf = "Systemic infection",
uti.inf = "Urinary tract infection")
rownames(Variables) = c("Variable", "Description")
Variables = t(Variables)
Variables$Variable <- rownames(Variables)
Variables
Variables <- data.frame(avgexp = "Average amount of soybean oil IVFE received by the patient during the first 3 days of their SICU stay",
maxexp = "Maximum daily IVFE received by the patient during the first 3 days of their SICU stay",
age = "Age in years",
gender = "Gender",
race = "Race",
bmi = "Body mass index (weight divided by height squared)",
apache2 = "Apache 2 score at admission; a disease severity score",
glucose = "Blood glucose level at admission",
hosp.los = "Hospital length of stay",
hosp.death = "Indicator of death in the hospital",
unit.los = "Length of stay in the surgical ICU",
unit.death = "Indicator of death in the surgical ICU",
ventdays.hosp = "Days spent on ventilator while in hospital",
ventdays.unit = "Days spent on ventilator while in surgical ICU",
ventfree.unit = "Days not on the ventilator while in the surgical ICU",
bsi.inf = "Bloodstream infection",
eent.inf = "Eye, ear, nose, throat infection",
gi.inf = "GI infection",
lri.inf = "Lower respiratory infection",
pneu.inf = "Pneumonia",
ssi.inf = "Surgical site infection",
sst.inf = "Skin structure infection",
sys.inf = "Systemic infection",
uti.inf = "Urinary tract infection")
rownames(Variables) = c("Variable", "Description")
Variables = t(Variables)
# sapply(data, function(c){sum(is.na(c))})
Variables <- data.frame(avgexp = "Average amount of soybean oil IVFE received by the patient during the first 3 days of their SICU stay",
maxexp = "Maximum daily IVFE received by the patient during the first 3 days of their SICU stay",
age = "Age in years",
gender = "Gender",
race = "Race",
bmi = "Body mass index (weight divided by height squared)",
apache2 = "Apache 2 score at admission; a disease severity score",
glucose = "Blood glucose level at admission",
hosp.los = "Hospital length of stay",
hosp.death = "Indicator of death in the hospital",
unit.los = "Length of stay in the surgical ICU",
unit.death = "Indicator of death in the surgical ICU",
ventdays.hosp = "Days spent on ventilator while in hospital",
ventdays.unit = "Days spent on ventilator while in surgical ICU",
ventfree.unit = "Days not on the ventilator while in the surgical ICU",
bsi.inf = "Bloodstream infection",
eent.inf = "Eye, ear, nose, throat infection",
gi.inf = "GI infection",
lri.inf = "Lower respiratory infection",
pneu.inf = "Pneumonia",
ssi.inf = "Surgical site infection",
sst.inf = "Skin structure infection",
sys.inf = "Systemic infection",
uti.inf = "Urinary tract infection")
rownames(Variables) = c("Variable", "Description")
Variables = as.data.frame(t(Variables))
Variables <- data.frame(avgexp = "Average amount of soybean oil IVFE received by the patient during the first 3 days of their SICU stay",
maxexp = "Maximum daily IVFE received by the patient during the first 3 days of their SICU stay",
age = "Age in years",
gender = "Gender",
race = "Race",
bmi = "Body mass index (weight divided by height squared)",
apache2 = "Apache 2 score at admission; a disease severity score",
glucose = "Blood glucose level at admission",
hosp.los = "Hospital length of stay",
hosp.death = "Indicator of death in the hospital",
unit.los = "Length of stay in the surgical ICU",
unit.death = "Indicator of death in the surgical ICU",
ventdays.hosp = "Days spent on ventilator while in hospital",
ventdays.unit = "Days spent on ventilator while in surgical ICU",
ventfree.unit = "Days not on the ventilator while in the surgical ICU",
bsi.inf = "Bloodstream infection",
eent.inf = "Eye, ear, nose, throat infection",
gi.inf = "GI infection",
lri.inf = "Lower respiratory infection",
pneu.inf = "Pneumonia",
ssi.inf = "Surgical site infection",
sst.inf = "Skin structure infection",
sys.inf = "Systemic infection",
uti.inf = "Urinary tract infection")
# rownames(Variables) = c("Variable", "Description")
Variables = as.data.frame(t(Variables))
View(Variables)
Variables$Variable <- rownames(Variables)
View(Variables)
colnames(Variables) <- c("Description", "Variable")
